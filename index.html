<!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  
  <?!= include('style'); ?>
</head>
<body>

  <div class="container" id="form-container">
    <h2>Registrasi Warga</h2>
    <form id="wargaForm">
      <label>Nama Lengkap</label>
      <input type="text" name="nama" required placeholder="Sesuai KTP">
      
      <label>NIK (16 Digit)</label>
      <input type="number" name="nik" id="nikInput" required placeholder="3201...">
      
      <label>Alamat</label>
      <textarea name="alamat" rows="3" required></textarea>
      
      <label>Foto KTP</label>
      <input type="file" name="fotoKtp" id="fileInput" accept="image/*" required>
      <img id="preview" style="display:none; width:100%; margin:10px 0; border-radius:5px;">
      
      <button type="submit" id="btn-kirim">Simpan & Buat Kartu</button>
    </form>
  </div>

  <div id="ktp-card">
    <div class="ktp-header">REPUBLIK DIGITAL - KARTU WARGA</div>
    <div class="ktp-body">
      <img id="ktp-foto-render" class="ktp-foto">
      <div class="ktp-data">
        <span class="nik-label" id="res-nik"></span>
        <div>NAMA: <b id="res-nama"></b></div>
        <div style="margin-top:5px;">ALAMAT:</div>
        <div id="res-alamat" style="line-height:1.2;"></div>
      </div>
    </div>
  </div>

  <button id="download-btn" onclick="downloadCard()">Download Kartu (PNG)</button>

  <?!= include('script'); ?>
</body>
</html>
